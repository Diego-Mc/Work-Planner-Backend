import{r as i,j as s,F as e,b as l}from"./index-f9649d7c.js";import{b as n,I as t}from"./constants-51bc6ba5.js";import{d as r}from"./moment-469476d6.js";import"./useDragDropManager-4b4561c8.js";const a=({worker:l,isUsed:a})=>{const d=i.useRef(null),[m,c]=i.useState(!!a);r();const[{isDragging:o},h,u]=n((()=>({type:t.WORKER,collect:i=>({isDragging:!!i.isDragging()}),item:()=>({_id:l._id,shiftTime:l.shiftTime,name:l.name}),canDrag:()=>!m,end(i,s){m||c(s.didDrop())}})),[a,m]);return h(d),s(e,{children:s("article",{ref:d,className:`worker-item\n        ${l.name?"":"empty"}\n        ${m?"locked":""}\n        ${o?"drag":""}`,children:l.name})})},d=({workers:i})=>l("div",{className:"worker-list",children:[s("h2",{className:"worker-list-title",children:"שיוכים מקוריים"}),l("div",{className:"time-shifts-lists",children:[l("div",{className:"morning-list",children:[s("h3",{className:"list-section-title",children:"בוקר"}),l("div",{className:"list-section-list",children:[i.unused.map((i=>"morning"===i.shiftTime?s(a,{isUsed:!1,worker:i},i._id):null)),i.used.map((i=>"morning"===i.shiftTime?s(a,{isUsed:!0,worker:i},i._id):null))]})]}),l("div",{className:"evening-list",children:[s("h3",{className:"list-section-title",children:"ערב"}),l("div",{className:"list-section-list",children:[i.unused.map((i=>"evening"===i.shiftTime?s(a,{isUsed:!1,worker:i},i._id):null)),i.used.map((i=>"evening"===i.shiftTime?s(a,{isUsed:!0,worker:i},i._id):null))]})]}),l("div",{className:"night-list",children:[s("h3",{className:"list-section-title",children:"לילה"}),l("div",{className:"list-section-list",children:[i.unused.map((i=>"night"===i.shiftTime?s(a,{isUsed:!1,worker:i},i._id):null)),i.used.map((i=>"night"===i.shiftTime?s(a,{isUsed:!0,worker:i},i._id):null))]})]}),l("div",{className:"night-list",children:[s("h3",{className:"list-section-title",children:"ללא שיוך"}),l("div",{className:"list-section-list",children:[i.unused.map((i=>i.shiftTime?null:s(a,{isUsed:!1,worker:i},i._id))),i.used.map((i=>i.shiftTime?null:s(a,{isUsed:!0,worker:i},i._id)))]})]})]})]});export{d as WorkerList,d as default};
