import{r as o,j as l}from"./index-33217084.js";import{u as a,a as u}from"./useDragDropManager-69f9aa71.js";function f(t){const r=a().getMonitor(),[n,i]=u(r,t);return o.useEffect(()=>r.subscribeToOffsetChange(i)),o.useEffect(()=>r.subscribeToStateChange(i)),n}var s=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),g=t=>{let e=t.getInitialClientOffset(),r=t.getInitialSourceClientOffset();return e===null||r===null?{x:0,y:0}:s(e,r)},c=(t,e)=>{let r=t.getClientOffset();if(r===null)return null;if(!e.current||!e.current.getBoundingClientRect)return s(r,g(t));let n=e.current.getBoundingClientRect(),i={x:n.width/2,y:n.height/2};return s(r,i)},m=t=>{let e=`translate(${t.x.toFixed(1)}px, ${t.y.toFixed(1)}px)`;return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:e,WebkitTransform:e}},p=()=>{let t=o.useRef(null),e=f(r=>({currentOffset:c(r,t),isDragging:r.isDragging(),itemType:r.getItemType(),item:r.getItem(),monitor:r}));return!e.isDragging||e.currentOffset===null?{display:!1}:{display:!0,itemType:e.itemType,item:e.item,style:m(e.currentOffset),monitor:e.monitor,ref:t}};o.createContext(void 0);const x=({})=>{const t=p();if(!t.display)return null;const{itemType:e,item:r,style:n}=t;return l("div",{className:"worker-item",style:{...n,transition:"all 0.01s",zIndex:100},children:r.name})};export{x as DndPreview,x as default};
