import{q as m,b as R,j as S,k as Ye,o as Ge}from"./index-5007061c.js";import{S as Q}from"./sweetalert2.all-72717318.js";import{u as Je}from"./machinesSlice-6f8f79da.js";import{J as M,P as J,Q as Ze,l as et,X as tt}from"./statisticsSlice-fb09224b.js";import{d as nt,e as rt}from"./workersSlice-6f47dc88.js";import{d as I,t as te,g as De,C as oe,P as Le,e as x,f as V,h as A,n as w,s as me,i as le,j as at,k as ve,b as ue,l as $,m as ce,o as be,p as Ne,q as Oe,r as K,v as B,w as $e,x as H,y as it,z as ot,A as Me,B as lt,D as Ie,E as ut,F as ct,G as F,H as Fe,I as ft,J as z,K as ze,L as st,M as dt,N as yt,O as xe,Q as Pe,R as Ae,S as pe,T as ht,U as gt,W as mt,X as vt,Y as bt,Z as Ot,u as xt,V as Pt,c as Se,a as ne}from"./useWindowSize-c1b157ae.js";import{p as a}from"./index-4d501b15.js";function At(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function St(e){return e}function wt(){var e=St,t=pt,r=null,i=I(0),n=I(te),u=I(0);function l(o){var c,f=(o=At(o)).length,s,y,d=0,h=new Array(f),g=new Array(f),v=+i.apply(this,arguments),O=Math.min(te,Math.max(-te,n.apply(this,arguments)-v)),P,b=Math.min(Math.abs(O)/f,u.apply(this,arguments)),_=b*(O<0?-1:1),p;for(c=0;c<f;++c)(p=g[h[c]=c]=+e(o[c],c,o))>0&&(d+=p);for(t!=null?h.sort(function(T,C){return t(g[T],g[C])}):r!=null&&h.sort(function(T,C){return r(o[T],o[C])}),c=0,y=d?(O-f*_)/d:0;c<f;++c,v=P)s=h[c],p=g[s],P=v+(p>0?p*y:0)+_,g[s]={data:o[s],index:c,value:p,startAngle:v,endAngle:P,padAngle:b};return g}return l.value=function(o){return arguments.length?(e=typeof o=="function"?o:I(+o),l):e},l.sortValues=function(o){return arguments.length?(t=o,r=null,l):t},l.sort=function(o){return arguments.length?(r=o,t=null,l):r},l.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:I(+o),l):i},l.endAngle=function(o){return arguments.length?(n=typeof o=="function"?o:I(+o),l):n},l.padAngle=function(o){return arguments.length?(u=typeof o=="function"?o:I(+o),l):u},l}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?we(Object(r),!0).forEach(function(i){_t(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tt=function(e){var t=e.pointerWidth,r=e.cornerRadius,i=e.orientation,n=e.width,u=e.height,l=e.center,o=i==="bottom"?1:-1,c=e.x+(e.dx||0),f=e.y+(e.dy||0),s=M(l)&&l.x,y=M(l)&&l.y,d=y+o*(u/2),h=y-o*(u/2),g=s+n/2,v=s-n/2,O=o*(f-d)<0?0:e.pointerLength,P=i==="bottom"?"0 0 0":"0 0 1",b="".concat(r," ").concat(r," ").concat(P);return"M ".concat(s-t/2,", ").concat(d,`
    L `).concat(O?c:s+t/2,", ").concat(O?f:d,`
    L `).concat(s+t/2,", ").concat(d,`
    L `).concat(g-r,", ").concat(d,`
    A `).concat(b," ").concat(g,", ").concat(d-o*r,`
    L `).concat(g,", ").concat(h+o*r,`
    A `).concat(b," ").concat(g-r,", ").concat(h,`
    L `).concat(v+r,", ").concat(h,`
    A `).concat(b," ").concat(v,", ").concat(h+o*r,`
    L `).concat(v,", ").concat(d-o*r,`
    A `).concat(b," ").concat(v+r,", ").concat(d,`
    z`)},kt=function(e){var t=e.pointerWidth,r=e.cornerRadius,i=e.orientation,n=e.width,u=e.height,l=e.center,o=i==="left"?1:-1,c=e.x+(e.dx||0),f=e.y+(e.dy||0),s=M(l)&&l.x,y=M(l)&&l.y,d=s-o*(n/2),h=s+o*(n/2),g=y+u/2,v=y-u/2,O=o*(c-d)>0?0:e.pointerLength,P=i==="left"?"0 0 0":"0 0 1",b="".concat(r," ").concat(r," ").concat(P);return"M ".concat(d,", ").concat(y-t/2,`
    L `).concat(O?c:d,", ").concat(O?f:y+t/2,`
    L `).concat(d,", ").concat(y+t/2,`
    L `).concat(d,", ").concat(g-r,`
    A `).concat(b," ").concat(d+o*r,", ").concat(g,`
    L `).concat(h-o*r,", ").concat(g,`
    A `).concat(b," ").concat(h,", ").concat(g-r,`
    L `).concat(h,", ").concat(v+r,`
    A `).concat(b," ").concat(h-o*r,", ").concat(v,`
    L `).concat(d+o*r,", ").concat(v,`
    A `).concat(b," ").concat(d,", ").concat(v+r,`
    z`)},Ct=function(e){var t=e.orientation||"top";return t==="left"||t==="right"?kt(e):Tt(e)},Rt=function(e){var t=x(e.id,e),r=V(e.style,e);return A({},e,{id:t,style:r})},fe=function(e){e=Rt(e);var t=De(e);return m.cloneElement(e.pathComponent,X(X(X({},e.events),t),{},{style:e.style,d:Ct(e),className:e.className,shapeRendering:e.shapeRendering,role:e.role,transform:e.transform,clipPath:e.clipPath}))};fe.propTypes=X(X({},oe.primitiveProps),{},{center:a.shape({x:a.number,y:a.number}),cornerRadius:a.number,datum:a.object,dx:a.number,dy:a.number,height:a.number,orientation:a.oneOf(["top","bottom","left","right"]),pathComponent:a.element,pointerLength:a.number,pointerWidth:a.number,width:a.number,x:a.number,y:a.number});fe.defaultProps={pathComponent:m.createElement(Le,null),role:"presentation",shapeRendering:"auto"};const Et=fe;function jt(e){return Nt(e)||Lt(e)||Dt(e)||Wt()}function Wt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(e,t){if(e){if(typeof e=="string")return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}}function Lt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nt(e){if(Array.isArray(e))return re(e)}function re(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mt(e,t,r){return t&&_e(e.prototype,t),r&&_e(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},ae(e,t)}function Ft(e){var t=Bt();return function(){var i=U(e),n;if(t){var u=U(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return zt(this,n)}}function zt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Vt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U(e)}var Ht={cornerRadius:5,pointerLength:10,pointerWidth:10},W=function(e){It(r,e);var t=Ft(r);function r(i){var n;return $t(this,r),n=t.call(this,i),n.id=i.id===void 0?at("tooltip-"):i.id,n}return Mt(r,[{key:"getDefaultOrientation",value:function(n){var u=n.datum,l=n.horizontal,o=n.polar;if(!o){var c=l?"right":"top",f=l?"left":"bottom";return u&&u.y<0?f:c}return this.getPolarOrientation(n,u)}},{key:"getPolarOrientation",value:function(n,u){var l=ve(n,u),o=n.labelPlacement||"vertical";return o===" vertical"?this.getVerticalOrientations(l):o==="parallel"?l<90||l>270?"right":"left":l>180?"bottom":"top"}},{key:"getVerticalOrientations",value:function(n){return n<45||n>315?"right":n>=45&&n<=135?"top":n>135&&n<225?"left":"bottom"}},{key:"getStyles",value:function(n){var u=n.theme||ue.grayscale,l=u&&u.tooltip&&u.tooltip.style?u.tooltip.style:{},o=Array.isArray(n.style)?n.style.map(function(d){return $({},d,l)}):$({},n.style,l),c=u&&u.tooltip&&u.tooltip.flyoutStyle?u.tooltip.flyoutStyle:{},f=n.flyoutStyle?$({},n.flyoutStyle,c):c,s=Array.isArray(o)?o.map(function(d){return V(d,n)}):V(o,n),y=V(f,A({},n,{style:s}));return{style:s,flyoutStyle:y}}},{key:"getEvaluatedProps",value:function(n){var u=n.cornerRadius,l=n.centerOffset,o=n.dx,c=n.dy,f=x(n.active,n),s=x(n.text,A({},n,{active:f})),y=this.getStyles(A({},n,{active:f,text:s})),d=y.style,h=y.flyoutStyle,g=x(n.orientation,A({},n,{active:f,text:s,style:d,flyoutStyle:h}))||this.getDefaultOrientation(n),v=x(n.flyoutPadding,A({},n,{active:f,text:s,style:d,flyoutStyle:h,orientation:g}))||this.getLabelPadding(d),O=ce({padding:v}),P=x(n.pointerWidth,A({},n,{active:f,text:s,style:d,flyoutStyle:h,orientation:g})),b=x(n.pointerLength,A({},n,{active:f,text:s,style:d,flyoutStyle:h,orientation:g})),_=be(s,d),p=this.getDimensions(A({},n,{style:d,flyoutStyle:h,active:f,text:s,orientation:g,flyoutPadding:O,pointerWidth:P,pointerLength:b}),_),T=p.flyoutHeight,C=p.flyoutWidth,k=A({},n,{active:f,text:s,style:d,flyoutStyle:h,orientation:g,flyoutHeight:T,flyoutWidth:C,flyoutPadding:O,pointerWidth:P,pointerLength:b}),E=M(l)&&l.x!==void 0?x(l.x,k):0,L=M(l)&&l.y!==void 0?x(l.y,k):0;return A({},k,{centerOffset:{x:E,y:L},dx:o!==void 0?x(o,k):0,dy:c!==void 0?x(c,k):0,cornerRadius:x(u,k)})}},{key:"getCalculatedValues",value:function(n){var u=n.style,l=n.text,o=n.flyoutStyle,c=n.flyoutHeight,f=n.flyoutWidth,s=be(l,u),y={height:c,width:f},d=this.getFlyoutCenter(n,y),h=this.getTransform(n);return{style:u,flyoutStyle:o,labelSize:s,flyoutDimensions:y,flyoutCenter:d,transform:h}}},{key:"getTransform",value:function(n){var u=n.x,l=n.y,o=n.style,c=o||{},f=c.angle||n.angle||this.getDefaultAngle(n);return f?"rotate(".concat(f," ").concat(u," ").concat(l,")"):void 0}},{key:"getDefaultAngle",value:function(n){var u=n.polar,l=n.labelPlacement,o=n.orientation,c=n.datum;if(!u||!l||l==="vertical")return 0;var f=ve(n,c),s=f>90&&f<180||f>270?1:-1,y=l==="perpendicular"?0:90,d;return f===0||f===180?d=o==="top"&&f===180?270:90:f>0&&f<180?d=90-f:f>180&&f<360&&(d=270-f),d+s*y}},{key:"constrainTooltip",value:function(n,u,l){var o=n.x,c=n.y,f=l.width,s=l.height,y={x:[0,u.width],y:[0,u.height]},d={x:[o-f/2,o+f/2],y:[c-s/2,c+s/2]},h={x:[d.x[0]<y.x[0]?y.x[0]-d.x[0]:0,d.x[1]>y.x[1]?d.x[1]-y.x[1]:0],y:[d.y[0]<y.y[0]?y.y[0]-d.y[0]:0,d.y[1]>y.y[1]?d.y[1]-y.y[1]:0]};return{x:Math.round(o+h.x[0]-h.x[1]),y:Math.round(c+h.y[0]-h.y[1])}}},{key:"getFlyoutCenter",value:function(n,u){var l=n.x,o=n.y,c=n.dx,f=n.dy,s=n.pointerLength,y=n.orientation,d=n.constrainToVisibleArea,h=n.centerOffset,g=u.height,v=u.width,O=y==="left"?-1:1,P=y==="bottom"?-1:1,b={x:y==="left"||y==="right"?l+O*(s+v/2+O*c):l+c,y:y==="top"||y==="bottom"?o-P*(s+g/2-P*f):o+f},_={x:M(n.center)&&n.center.x!==void 0?n.center.x:b.x,y:M(n.center)&&n.center.y!==void 0?n.center.y:b.y},p={x:_.x+h.x,y:_.y+h.y};return d?this.constrainTooltip(p,n,u):p}},{key:"getLabelPadding",value:function(n){if(!n)return 0;var u=Array.isArray(n)?n.map(function(l){return l.padding}):[n.padding];return Math.max.apply(Math,jt(u).concat([0]))}},{key:"getDimensions",value:function(n,u){var l=n.orientation,o=n.pointerLength,c=n.pointerWidth,f=n.flyoutHeight,s=n.flyoutWidth,y=n.flyoutPadding,d=x(n.cornerRadius,n),h=function(){var v=u.height+y.top+y.bottom,O=l==="top"||l==="bottom"?2*d:2*d+c;return Math.max(O,v)},g=function(){var v=u.width+y.left+y.right,O=l==="left"||l==="right"?2*d+o:2*d;return Math.max(O,v)};return{flyoutHeight:f?x(f,n):h(),flyoutWidth:s?x(s,n):g()}}},{key:"getLabelProps",value:function(n,u){var l=u.flyoutCenter,o=u.style,c=u.labelSize,f=u.dy,s=f===void 0?0:f,y=u.dx,d=y===void 0?0:y,h=n.text,g=n.datum,v=n.activePoints,O=n.labelComponent,P=n.index,b=n.flyoutPadding,_=(Array.isArray(o)&&o.length?o[0].textAnchor:o.textAnchor)||"middle",p=function(){if(!_||_==="middle")return l.x;var T=_==="end"?-1:1;return l.x-T*(c.width/2)};return $({},O.props,{key:"".concat(this.id,"-label-").concat(P),text:h,datum:g,activePoints:v,textAnchor:_,dy:s,dx:d,style:o,x:p()+(b.left-b.right)/2,y:l.y+(b.top-b.bottom)/2,verticalAnchor:"middle",angle:o.angle})}},{key:"getPointerOrientation",value:function(n,u,l){var o={bottom:u.y+l.height/2,top:u.y-l.height/2,left:u.x-l.width/2,right:u.x+l.width/2},c=[{side:"top",val:o.top>n.y?o.top-n.y:-1},{side:"bottom",val:o.bottom<n.y?n.y-o.bottom:-1},{side:"right",val:o.right<n.x?n.x-o.right:-1},{side:"left",val:o.left>n.x?o.left-n.x:-1}];return Ne(c,"val","desc")[0].side}},{key:"getFlyoutProps",value:function(n,u){var l=u.flyoutDimensions,o=u.flyoutStyle,c=u.flyoutCenter,f=n.x,s=n.y,y=n.dx,d=n.dy,h=n.datum,g=n.activePoints,v=n.index,O=n.pointerLength,P=n.pointerWidth,b=n.cornerRadius,_=n.events,p=n.flyoutComponent,T=x(n.pointerOrientation,n);return $({},p.props,{x:f,y:s,dx:y,dy:d,datum:h,activePoints:g,index:v,pointerLength:O,pointerWidth:P,cornerRadius:b,events:_,orientation:T||this.getPointerOrientation({x:f,y:s},c,l),key:"".concat(this.id,"-tooltip-").concat(v),width:l.width,height:l.height,style:o,center:c})}},{key:"renderTooltip",value:function(n){var u=x(n.active,n),l=n.renderInPortal;if(!u)return l?m.createElement(Oe,null,null):null;var o=this.getEvaluatedProps(n),c=o.flyoutComponent,f=o.labelComponent,s=o.groupComponent,y=this.getCalculatedValues(o),d=[m.cloneElement(c,this.getFlyoutProps(o,y)),m.cloneElement(f,this.getLabelProps(o,y))],h=m.cloneElement(s,{role:"presentation",transform:y.transform},d);return l?m.createElement(Oe,null,h):h}},{key:"render",value:function(){var n=K(this.props,Ht,"tooltip");return this.renderTooltip(n)}}]),r}(m.Component);W.displayName="VictoryTooltip";W.role="tooltip";W.propTypes={activateData:a.bool,active:a.oneOfType([a.bool,a.func]),activePoints:a.array,angle:a.number,center:a.shape({x:w,y:w}),centerOffset:a.shape({x:a.oneOfType([a.number,a.func]),y:a.oneOfType([a.number,a.func])}),constrainToVisibleArea:a.bool,cornerRadius:a.oneOfType([w,a.func]),data:a.array,datum:a.object,dx:a.oneOfType([a.number,a.func]),dy:a.oneOfType([a.number,a.func]),events:a.object,flyoutComponent:a.element,flyoutHeight:a.oneOfType([w,a.func]),flyoutPadding:a.oneOfType([a.func,a.number,a.shape({top:a.number,bottom:a.number,left:a.number,right:a.number})]),flyoutStyle:a.object,flyoutWidth:a.oneOfType([w,a.func]),groupComponent:a.element,height:a.number,horizontal:a.bool,id:a.oneOfType([a.number,a.string]),index:a.oneOfType([a.number,a.string]),labelComponent:a.element,orientation:a.oneOfType([a.oneOf(["top","bottom","left","right"]),a.func]),pointerLength:a.oneOfType([w,a.func]),pointerOrientation:a.oneOfType([a.oneOf(["top","bottom","left","right"]),a.func]),pointerWidth:a.oneOfType([w,a.func]),polar:a.bool,renderInPortal:a.bool,scale:a.shape({x:me,y:me}),style:a.oneOfType([a.object,a.array]),text:a.oneOfType([a.string,a.number,a.func,a.array]),theme:a.object,width:a.number,x:a.number,y:a.number};W.defaultProps={active:!1,renderInPortal:!0,labelComponent:m.createElement(le,null),flyoutComponent:m.createElement(Et,null),groupComponent:m.createElement("g",null)};W.defaultEvents=function(e){var t=e.activateData?[{target:"labels",mutation:function(){return{active:!0}}},{target:"data",mutation:function(){return{active:!0}}}]:[{target:"labels",mutation:function(){return{active:!0}}}],r=e.activateData?[{target:"labels",mutation:function(){return{active:void 0}}},{target:"data",mutation:function(){return{active:void 0}}}]:[{target:"labels",mutation:function(){return{active:void 0}}}];return[{target:"data",eventHandlers:{onMouseOver:function(){return t},onFocus:function(){return t},onTouchStart:function(){return t},onMouseOut:function(){return r},onBlur:function(){return r},onTouchEnd:function(){return r}}}]};function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Te(Object(r),!0).forEach(function(i){Kt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xt=function(e){var t=e.slice,r=e.radius,i=e.innerRadius,n=e.cornerRadius;if(J(e.pathFunction))return e.pathFunction(t);var u=B(e.padAngle),l=B(e.sliceStartAngle),o=B(e.sliceEndAngle),c=$e().cornerRadius(n).outerRadius(r).innerRadius(i||0);return c($({startAngle:l,endAngle:o,padAngle:u},t))},qt=function(e){var t=V(e.style,e),r=x(e.radius,A({},e,{style:t})),i=x(e.innerRadius,A({},e,{style:t,radius:r})),n=x(e.ariaLabel,e),u=x(e.id,e),l=x(e.cornerRadius,e),o=x(e.padAngle,e),c=x(e.sliceStartAngle,e),f=x(e.sliceEndAngle,e),s=x(e.tabIndex,e);return A({},e,{ariaLabel:n,style:t,radius:r,innerRadius:i,id:u,cornerRadius:l,padAngle:o,sliceStartAngle:c,sliceEndAngle:f,tabIndex:s})},se=function(e){e=qt(e);var t=e.origin?"translate(".concat(e.origin.x,", ").concat(e.origin.y,")"):void 0;return m.cloneElement(e.pathComponent,Y(Y({},e.events),{},{"aria-label":e.ariaLabel,d:Xt(e),style:e.style,transform:e.transform||t,className:e.className,role:e.role,shapeRendering:e.shapeRendering,clipPath:e.clipPath,tabIndex:e.tabIndex}))};se.propTypes=Y(Y({},oe.primitiveProps),{},{cornerRadius:a.oneOfType([a.number,a.func]),datum:a.object,innerRadius:a.oneOfType([a.number,a.func]),padAngle:a.oneOfType([a.number,a.func]),pathComponent:a.element,pathFunction:a.func,radius:a.oneOfType([a.number,a.func]),slice:a.object,sliceEndAngle:a.oneOfType([a.number,a.func]),sliceStartAngle:a.oneOfType([a.number,a.func])});se.defaultProps={pathComponent:m.createElement(Le,null),role:"presentation",shapeRendering:"auto"};const Qt=se;var Ut=function(e){return e==null||J(e)?e:"".concat(e)},Yt=function(e,t,r){return e&&e.data&&e.data.fill?e.data.fill:t&&t[r%t.length]},Gt=function(e,t){return typeof e.radius=="number"?e.radius:Math.min(e.width-t.left-t.right,e.height-t.top-t.bottom)/2},Jt=function(e,t){var r=e.width,i=e.height,n=M(e.origin)?e.origin:{};return{x:n.x!==void 0?n.x:(t.left-t.right+r)/2,y:n.y!==void 0?n.y:(t.top-t.bottom+i)/2}},Zt=function(e,t){var r=J(e.padAngle)?0:e.padAngle,i=wt().sort(null).startAngle(B(e.startAngle)).endAngle(B(e.endAngle)).padAngle(B(r)).value(function(n){return n._y});return i(t)},en=function(e){var t=e.colorScale,r=it(e,"pie"),i=ot(e.style,r),n=Array.isArray(t)?t:ut(t),u=ce(e),l=Gt(e,u),o=Jt(e,u),c=Me(e),f=Zt(e,c);return A({},e,{style:i,colors:n,padding:u,defaultRadius:l,data:c,slices:f,origin:o})},tn=function(e,t){var r=t.style,i=t.colors,n=Yt(r,i,e);return A({fill:n},r.data)},nn=function(e,t,r){var i;return t.label?i=t.label:Array.isArray(e.labels)?i=e.labels[r]:i=J(e.labels)?e.labels:t.xName||t._x,Ut(i)},rn=function(e,t,r){var i=r&&r.padding||0,n=t||e+i;return $e().outerRadius(n).innerRadius(n)},an=function(e,t,r){var i={startAngle:r==="startAngle"?t.startAngle:t.endAngle,endAngle:r==="endAngle"?t.endAngle:t.startAngle},n=A({},t,i);return e.centroid(n)},on=function(e,t){return t==="perpendicular"?e>90&&e<270?"bottom":"top":t==="parallel"?e>=0&&e<=180?"right":"left":e<45||e>315?"top":e>=45&&e<135?"right":e>=135&&e<225?"bottom":"left"},ln=function(e){return e==="top"||e==="bottom"?"middle":e==="right"?"start":"end"},un=function(e){return e==="left"||e==="right"?"middle":e==="bottom"?"start":"end"},cn=function(e,t,r){var i=0;t.angle!==void 0?i=r.angle:t==="centroid"?i=H((e.startAngle+e.endAngle)/2):i=t==="startAngle"?H(e.startAngle):H(e.endAngle);var n=i<0?360-i:i;return n%360},fn=function(e,t){return t==="vertical"?0:t==="parallel"?e>180&&e<360?e+90:e-90:e>90&&e<270?e-180:e},sn=function(e,t,r){var i=t.index,n=t.datum,u=t.data,l=t.slice,o=t.labelComponent,c=t.theme,f=r.style,s=r.defaultRadius,y=r.origin,d=r.width,h=r.height,g=x(r.labelRadius,A({text:e},t)),v=x(r.labelPosition,A({text:e},t))||"centroid",O=x(r.labelPlacement,A({text:e},t))||"vertical",P=A({padding:0},f.labels),b=V(P,A({labelRadius:g,text:e},t)),_=rn(s,g,b),p=an(_,l,v),T=cn(l,v,P),C=fn(T,O),k=on(T,O),E=P.textAnchor||ln(k),L=P.verticalAnchor||un(k),j={width:d,height:h,index:i,datum:n,data:u,slice:l,orientation:k,text:e,style:P,x:Math.round(p[0])+y.x,y:Math.round(p[1])+y.y,textAnchor:E,verticalAnchor:L,angle:C};if(!lt(o))return j;var N=c&&c.tooltip||{};return $({},j,Ie(N,["style"]))},dn=function(e,t){e=K(e,t,"pie");var r=en(e),i=r.slices,n=r.style,u=r.data,l=r.origin,o=r.defaultRadius,c=r.labels,f=r.events,s=r.sharedEvents,y=r.height,d=r.width,h=r.standalone,g=r.name,v=r.innerRadius,O=r.cornerRadius,P=r.padAngle,b=r.disableInlineStyles,_=e.radius||o,p={parent:{standalone:h,height:y,width:d,slices:i,name:g,style:n.parent}};return i.reduce(function(T,C,k){var E=$({},u[k],{startAngle:H(C.startAngle),endAngle:H(C.endAngle),padAngle:H(C.padAngle)}),L=Ze(E.eventKey)?k:E.eventKey,j={index:k,slice:C,datum:E,data:u,origin:l,innerRadius:v,radius:_,cornerRadius:O,padAngle:P,style:b?{}:tn(k,r),disableInlineStyles:b};T[L]={data:j};var N=nn(e,E,k);if(N!=null||c&&(f||s)){var q=x(N,j);T[L].labels=sn(q,A({},e,j),r)}return T},p)};function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hn(e,t,r){return t&&ke(e.prototype,t),r&&ke(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},ie(e,t)}function mn(e){var t=On();return function(){var i=G(e),n;if(t){var u=G(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return vn(this,n)}}function vn(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G(e)}var Ve={endAngle:360,height:400,innerRadius:0,cornerRadius:0,padAngle:0,padding:30,width:400,startAngle:0,colorScale:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],labelPosition:"centroid"},D=function(e){gn(r,e);var t=mn(r);function r(){return yn(this,r),t.apply(this,arguments)}return hn(r,[{key:"shouldAnimate",value:function(){return Boolean(this.props.animate)}},{key:"render",value:function(){var n=r.animationWhitelist,u=r.role,l=K(this.props,Ve,u);if(this.shouldAnimate())return this.animateComponent(l,n);var o=this.renderData(l),c=l.standalone?this.renderContainer(l.containerComponent,o):o;return ft(c,l)}}]),r}(m.Component);D.animationWhitelist=["data","endAngle","height","innerRadius","cornerRadius","padAngle","padding","colorScale","startAngle","style","width"];D.displayName="VictoryPie";D.role="pie";D.defaultTransitions={onExit:{duration:500,before:function(){return{_y:0,label:" "}}},onEnter:{duration:500,before:function(){return{_y:0,label:" "}},after:function(e){return{y_:e._y,label:e.label}}}};D.propTypes={animate:a.oneOfType([a.bool,a.object]),colorScale:a.oneOfType([a.arrayOf(a.string),a.oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),containerComponent:a.element,cornerRadius:a.oneOfType([w,a.func]),data:a.array,dataComponent:a.element,disableInlineStyes:a.bool,endAngle:a.number,eventKey:a.oneOfType([a.func,F([z,w]),a.string]),events:a.arrayOf(a.shape({target:a.oneOf(["data","labels","parent"]),eventKey:a.oneOfType([a.array,a.func,F([z,w]),a.string]),eventHandlers:a.object})),externalEventMutations:a.arrayOf(a.shape({callback:a.func,childName:a.oneOfType([a.string,a.array]),eventKey:a.oneOfType([a.array,F([z,w]),a.string]),mutation:a.func,target:a.oneOfType([a.string,a.array])})),groupComponent:a.element,height:w,innerRadius:a.oneOfType([w,a.func]),labelComponent:a.element,labelPlacement:a.oneOfType([a.func,a.oneOf(["parallel","perpendicular","vertical"])]),labelPosition:a.oneOfType([a.func,a.oneOf(["startAngle","centroid","endAngle"])]),labelRadius:a.oneOfType([w,a.func]),labels:a.oneOfType([a.func,a.array]),name:a.string,origin:a.shape({x:w,y:w}),padAngle:a.oneOfType([w,a.func]),padding:a.oneOfType([a.number,a.shape({top:a.number,bottom:a.number,left:a.number,right:a.number})]),radius:a.oneOfType([w,a.func]),sharedEvents:a.shape({events:a.array,getEventState:a.func}),sortKey:a.oneOfType([a.func,F([z,w]),a.string,a.arrayOf(a.string)]),sortOrder:a.oneOf(["ascending","descending"]),standalone:a.bool,startAngle:a.number,style:a.shape({parent:a.object,data:a.object,labels:a.object}),theme:a.object,width:w,x:a.oneOfType([a.func,F([z,w]),a.string,a.arrayOf(a.string)]),y:a.oneOfType([a.func,F([z,w]),a.string,a.arrayOf(a.string)])};D.defaultProps={data:[{x:"A",y:1},{x:"B",y:2},{x:"C",y:3},{x:"D",y:1},{x:"E",y:2}],standalone:!0,dataComponent:m.createElement(Qt,null),labelComponent:m.createElement(le,null),containerComponent:m.createElement(Fe,null),groupComponent:m.createElement("g",null),sortOrder:"ascending",theme:ue.grayscale};D.getBaseProps=function(e){return dn(e,Ve)};D.getData=Me;D.expectedComponents=["dataComponent","labelComponent","groupComponent","containerComponent"];const Be=ct(D);function xn(e,t){return Sn(e)||pn(e,t)||An(e,t)||Pn()}function Pn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function An(e,t){if(e){if(typeof e=="string")return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(e,t)}}function Ce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function pn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],n=!0,u=!1,l,o;try{for(r=r.call(e);!(n=(l=r.next()).done)&&(i.push(l.value),!(t&&i.length===t));n=!0);}catch(c){u=!0,o=c}finally{try{!n&&r.return!=null&&r.return()}finally{if(u)throw o}}return i}}function Sn(e){if(Array.isArray(e))return e}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Re(Object(r),!0).forEach(function(i){wn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var He={width:450,height:300,padding:50};function _n(e,t){var r=e.fillInMissingData,i=t.reduce(function(l,o){return o.forEach(function(c){l[c._x instanceof Date?c._x.getTime():c._x]=!0}),l},{}),n=et(i).map(function(l){return Number(l)}),u=Ne(n);return t.map(function(l){var o=0,c=l[0]&&l[0]._x instanceof Date,f=u.map(function(s,y){s=Number(s);var d=l[y-o];if(d){var h=c?d._x.getTime():d._x;if(h===s)return d;o++;var g=r?0:null;return s=c?new Date(s):s,{x:s,y:g,_x:s,_y:g}}var v=r?0:null;return s=c?new Date(s):s,{x:s,y:v,_x:s,_y:v}});return f})}function Tn(e,t,r){if(e.y0)return e.y0;var i=e._y,n=e._group,u=r[0].map(function(f){return f.y0}),l=r.slice(0,t),o=l.reduce(function(f,s){return f.concat(s.filter(function(y){return e._x instanceof Date?y._x.getTime()===e._x.getTime():y._x===e._x}).map(function(y){return y._y||0}))},[]),c=o.length&&o.reduce(function(f,s){var y=i<0&&s<0||i>=0&&s>=0;return y?Number(s)+f:f},u[n]||0);return o.some(function(f){return f instanceof Date})?new Date(c):c}function kn(e,t,r){var i=e.xOffset||0;return t[r].map(function(n){var u=Tn(n,r,t)||0;return A({},n,{_y0:n._y instanceof Date?u?new Date(u):n._y:u,_y1:n._y===null?null:n._y instanceof Date?new Date(Number(n._y)+Number(u)):n._y+u,_x1:n._x===null?null:n._x instanceof Date?new Date(Number(n._x)+Number(i)):n._x+i})})}function Cn(e,t){var r=ht(e,t),i=r.map(function(u){return u.filter(function(l){return l._x!==null&&l._y!==null})}),n=_n(e,i);return n.map(function(u,l){return kn(e,n,l)})}function Ke(e,t){t=t||m.Children.toArray(e.children);var r="stack";e=K(e,He,r);var i=dt(e.theme,e.style,r),n=e.categories||yt(e,t),u=e.datasets||Cn(e,t),l=t.map(function(g,v){return m.cloneElement(g,{data:u[v]})}),o={x:xe(A({},e,{categories:n}),"x",l),y:xe(A({},e,{categories:n}),"y",l)},c=e.range||{x:Pe(e,"x"),y:Pe(e,"y")},f={x:Ae(e,"x")||pe(e,"x"),y:Ae(e,"y")||pe(e,"y")},s={x:f.x.domain(o.x).range(e.horizontal?c.y:c.x),y:f.y.domain(o.y).range(e.horizontal?c.x:c.y)},y=e,d=y.colorScale,h=y.horizontal;return{datasets:u,categories:n,range:c,domain:o,horizontal:h,scale:s,style:i,colorScale:d,role:r}}var Rn=function(e){var t=e.children,r=m.Children.toArray(t).map(function(i){var n=i;return Ee(Ee({},n),{},{props:Ie(n.props,["sharedEvents"])})});return e.children=r,e};function En(e){var t=Rn(e),r=m.useState(t),i=xn(r,2),n=i[0],u=i[1];return m.useEffect(function(){ze(t,n)||u(t)},[n,u,t]),m.useMemo(function(){return Ke(n,n.children)},[n])}function jn(e,t,r){if(e.labels)return t.length===r+1?e.labels:void 0}function Wn(e,t){var r=t.categories,i=t.domain,n=t.range,u=t.scale,l=t.horizontal;return{height:e.height,width:e.width,padding:ce(e),standalone:!1,theme:e.theme,categories:r,domain:i,range:n,scale:u,horizontal:l}}function Dn(e,t){var r=t.type&&t.type.role,i=t.props.colorScale||e.colorScale;if(!(r!=="group"&&r!=="stack"))return e.theme?i||e.theme.props.colorScale:i}function Xe(e,t,r){e=K(e,He,"stack"),t=t||m.Children.toArray(e.children),r=r||Ke(e,t);var i=r,n=i.datasets,u=Wn(e,r),l=e.name||"stack";return t.map(function(o,c){var f=o.type&&o.type.role,s=n[c],y=st(o,c,r),d=e.labels?jn(e,n,c):o.props.labels,h=o.props.name||"".concat(l,"-").concat(f,"-").concat(c);return m.cloneElement(o,A({key:"".concat(h,"-key-").concat(c),labels:d,name:h,domainPadding:o.props.domainPadding||e.domainPadding,theme:e.theme,labelComponent:e.labelComponent||o.props.labelComponent,style:y,colorScale:Dn(e,o),data:s,polar:e.polar},u))})}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?je(Object(r),!0).forEach(function(i){Ln(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nn={width:450,height:300,padding:50},de=function(e){var t=ye.role,r=gt(),i=r.setAnimationState,n=r.getAnimationProps,u=r.getProps,l=u(e),o=K(l,Nn,t),c=o.eventKey,f=o.containerComponent,s=o.standalone,y=o.groupComponent,d=o.externalEventMutations,h=o.width,g=o.height,v=o.theme,O=o.polar,P=o.horizontal,b=o.name,_=m.Children.toArray(o.children),p=En(o),T=p.domain,C=p.scale,k=p.style,E=m.useMemo(function(){var Z=Xe(l,_,p),qe=Z.map(function(ee,Qe){var Ue=A({animate:n(l,ee,Qe)},ee.props);return m.cloneElement(ee,Ue)});return qe.reverse()},[l,_,p,n]),L=m.useMemo(function(){return s?{domain:T,scale:C,width:h,height:g,standalone:s,theme:v,style:k.parent,horizontal:P,polar:O,name:b}:{}},[s,T,C,h,g,v,k,P,O,b]),j=m.useMemo(function(){return De(e)},[e]),N=m.useMemo(function(){if(s){var Z=$({},f.props,L,j);return m.cloneElement(f,Z)}return m.cloneElement(y,j)},[y,s,f,L,j]),q=m.useMemo(function(){return mt(l)},[l]),ge=vt(e);return m.useEffect(function(){return function(){e.animate&&i(ge,e)}},[i,ge,e]),bt(q)?m.cloneElement(N,N.props,E):m.createElement(Ot,{container:N,eventKey:c,events:q,externalEventMutations:d},E)};de.propTypes=We(We({},oe.baseProps),{},{bins:a.oneOfType([a.arrayOf(a.oneOfType([w,a.instanceOf(Date)])),w]),categories:a.oneOfType([a.arrayOf(a.string),a.shape({x:a.arrayOf(a.string),y:a.arrayOf(a.string)})]),children:a.oneOfType([a.arrayOf(a.node),a.node]),colorScale:a.oneOfType([a.arrayOf(a.string),a.oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),fillInMissingData:a.bool,horizontal:a.bool,labelComponent:a.element,labels:a.oneOfType([a.func,a.array]),style:a.shape({parent:a.object,data:a.object,labels:a.object}),xOffset:a.number});de.defaultProps={containerComponent:m.createElement(Fe,null),groupComponent:m.createElement("g",null),standalone:!0,theme:ue.grayscale,fillInMissingData:!0};var $n={role:"stack",expectedComponents:["groupComponent","containerComponent","labelComponent"],getChildren:Xe},ye=Object.assign(m.memo(de,ze),$n);ye.displayName="VictoryStack";const Mn=({worker:e,machines:t,statistics:r})=>{const i=xt(),n={morning:[],evening:[],night:[]};let u=0;const l=r.machineTimeShiftsPerWorker;Object.keys(n).forEach(o=>{t.forEach(c=>{var f,s,y;n[o].push({machine:c.name,amountWorked:((y=(s=(f=l==null?void 0:l[e._id])==null?void 0:f[o])==null?void 0:s[c._id])==null?void 0:y.length)||0})}),n[o].sort((c,f)=>c.machine.localeCompare(f.machine))});for(let o=0;o<n.morning.length;o++){const c=n.morning[o].amountWorked+n.evening[o].amountWorked+n.night[o].amountWorked;u<c&&(u=c)}return R(Pt,{width:((i==null?void 0:i.width)||1200)<720?i.width:((i==null?void 0:i.width)||1200)-400,height:t.length*80,padding:{top:30,bottom:50,left:80,right:60},domain:u?{y:[0,u]}:{},horizontal:!0,domainPadding:20,children:[S(Se,{style:{tickLabels:{fontFamily:"Rubik",fontSize:16}}}),S(Se,{style:{tickLabels:{fontFamily:"Rubik",fontSize:16}},dependentAxis:!0,tickFormat:o=>`${o}`}),R(ye,{colorScale:["#edc949","#f28e2c","#af7aa1"],children:[S(ne,{data:n.morning,labels:({datum:o})=>o._y>0?`בוקר: ${o._y}`:"",labelComponent:S(W,{pointerLength:0,cornerRadius:0,centerOffset:{y:10},orientation:"bottom",flyoutStyle:{fill:"black",stroke:"black"},style:{fontFamily:"Rubik",fontSize:16,fill:"white",fontWeight:700}}),x:"machine",y:"amountWorked"}),S(ne,{data:n.evening,labels:({datum:o})=>o._y>0?`ערב: ${o._y}`:"",labelComponent:S(W,{pointerLength:0,cornerRadius:0,centerOffset:{y:10},orientation:"bottom",flyoutStyle:{fill:"black",stroke:"black"},style:{fontFamily:"Rubik",fontSize:16,fill:"white",fontWeight:700}}),x:"machine",y:"amountWorked"}),S(ne,{data:n.night,labels:({datum:o})=>o._y>0?`לילה: ${o._y}`:"",labelComponent:S(W,{pointerLength:0,cornerRadius:0,centerOffset:{y:10},orientation:"bottom",flyoutStyle:{fill:"black",stroke:"black"},style:{fontFamily:"Rubik",fontSize:16,fill:"white",fontWeight:700}}),x:"machine",y:"amountWorked"})]})]})};function In(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}const Fn=In("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),he=e=>R("g",{children:[S(le,{...e,text:({datum:t})=>t.amountWorked>0?"time"in t?t.time==="morning"?"בוקר":t.time==="evening"?"ערב":"לילה":t.machine:""}),S(W,{...e,style:{labels:{opacity:1},fill:"white",fontWeight:700,fontFamily:"Rubik",fontSize:20},x:200,y:250,orientation:"top",pointerLength:0,cornerRadius:50,flyoutWidth:100,flyoutHeight:100,flyoutStyle:{fill:"black"}})]});he.defaultEvents=W.defaultEvents;const zn=({worker:e,machines:t,statistics:r})=>{var l;const i=[],n=(l=r.amountWorkedInMachinePerWorker)==null?void 0:l[e._id];t.forEach(o=>{var c;i.push({machine:o.name,amountWorked:((c=n==null?void 0:n[o._id])==null?void 0:c.length)||0})});const u=i.reduce((o,c)=>o+c.amountWorked,0);return i.forEach(o=>o.amountWorked=Math.round(o.amountWorked/u*100)),S(Be,{style:{labels:{opacity:1,fontWeight:700,fontFamily:"Rubik",userSelect:"none"}},colorScale:Fn,innerRadius:100,labelRadius:120,labels:({datum:o})=>o._y>0?`:${o.machine}
 ${o.amountWorked}%`:"",labelComponent:S(he,{}),data:i,x:"machine",y:"amountWorked"})},Vn=({statistics:e,worker:t})=>{const r=[];["morning","evening","night"].forEach(n=>{var l,o,c;const u=((c=(o=(l=e.timeShiftsPerWorker)==null?void 0:l[t._id])==null?void 0:o[n])==null?void 0:c.length)||0;r.push({time:n,amountWorked:u})});const i=r.reduce((n,u)=>n+u.amountWorked,0);return r.forEach(n=>n.amountWorked=Math.round(n.amountWorked/i*100)),S(Be,{style:{labels:{opacity:1,fontWeight:700,fontFamily:"Rubik",userSelect:"none"}},colorScale:["#edc949","#f28e2c","#af7aa1"],innerRadius:100,labelRadius:120,labels:({datum:n})=>n._y>0?`:${n.time==="morning"?"בוקר":n.time==="evening"?"ערב":"לילה"}
 ${n.amountWorked}%`:"",labelComponent:S(he,{}),data:r,x:"time",y:"amountWorked"})},Yn=({})=>{const e=Ye(),t=Ge(),{data:r}=nt(e.workerId),{data:i}=Je(),{data:n}=tt(),[u]=rt(),l=async()=>{if(!r)return;const{value:c}=await Q.fire({title:"מה השם העדכני של העובד?",text:"השינוי ישתקף בכל הסידורים, גם בעתיד וגם בעבר!",input:"text",inputPlaceholder:"הכנס את שם העובד העדכני",confirmButtonColor:"#545454"});c&&(u({workerDetails:{...r,name:c},workerId:r._id}),Q.fire({title:"השינוי בוצע בהצלחה!",text:`שם העובד העדכני הוא ${c}`,confirmButtonColor:"#545454",icon:"success"}))},o=async()=>{if(!r)return;const{isConfirmed:c}=await Q.fire({title:"אתה בטוח?",text:"העובד לא יופיע בסידורים הבאים וגם לא בנתונים הסטטיסטיים - הסידורים הקודמים בהם הופיע לא יושפעו.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3c82f6",cancelButtonColor:"tomato",confirmButtonText:"אני בטוח",cancelButtonText:"ביטול"});c&&(u({workerDetails:{...r,ownerId:null},workerId:r._id}),Q.fire({title:"העובד נותק בהצלחה",confirmButtonColor:"#545454",icon:"success"}),t("/workers"))};return R("section",{className:"worker-dashboard dashboard",children:[r?R("div",{className:"dashboard-header",children:[R("div",{className:"header-details",children:[R("h2",{className:"title",children:[S("span",{className:"material-symbols-outlined back-icon",onClick:()=>t("/workers"),children:""}),r.name]}),R("div",{className:"actions",children:[S("button",{className:"pill-btn",onClick:l,children:"שינוי שם"}),S("button",{className:"pill-btn danger",onClick:o,children:"ניתוק"})]})]}),R("p",{className:"header-sub-details",children:["העובד/ת כרגע מיועד/ת למשמרת"," ",r.shiftTime==="morning"?"בוקר":r.shiftTime==="evening"?"ערב":"לילה","."]})]}):null,r&&n&&i?R("div",{className:"stat",children:[R("div",{className:"main-stat",children:[S("h3",{className:"stat-title",children:"סבבי עבודה בכל מכונה עם חלוקת זמן משמרת"}),S("div",{className:"stat-wrapper",children:S(Mn,{machines:i,statistics:n,worker:r})})]}),R("div",{className:"sec-stat",children:[R("div",{className:"worker-time-stat",children:[S("h3",{className:"stat-title",children:"פילוח עבודה לפי זמן משמרת"}),S("div",{className:"stat-graph",children:S(Vn,{statistics:n,worker:r})})]}),R("div",{className:"worker-machine-stat",children:[S("h3",{className:"stat-title",children:"פילוח עבודה לפי מכונה"}),S("div",{className:"stat-graph",children:S(zn,{machines:i,statistics:n,worker:r})})]})]})]}):null]})};export{Yn as WorkerDashboard,Yn as default};
