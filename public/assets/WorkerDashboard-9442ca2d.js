import{q as e,b as t,j as n,k as r,o}from"./index-f9649d7c.js";import{S as a}from"./sweetalert2.all-37aa507a.js";import{u as i}from"./machinesSlice-d72c876a.js";import{J as l,P as c,Q as u,l as s,X as f}from"./statisticsSlice-8f9b887a.js";import{d,e as p}from"./workersSlice-b1a2981f.js";import{d as y,t as m,g as h,C as g,P as b,e as v,f as O,h as x,n as w,s as A,i as P,j,k,b as S,l as T,m as C,o as R,p as E,q as _,r as D,v as W,w as N,x as L,y as M,z as I,A as z,B as F,D as B,E as V,F as $,G as H,H as K,I as q,J as U,K as J,L as Q,M as X,N as G,O as Y,Q as Z,R as ee,S as te,T as ne,U as re,W as oe,X as ae,Y as ie,Z as le,u as ce,V as ue,c as se,a as fe}from"./useWindowSize-756c0d94.js";import{p as de}from"./index-06bcf729.js";function pe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ye(e){return e}function me(){var e=ye,t=pe,n=null,r=y(0),o=y(m),a=y(0);function i(i){var l,c,u,s,f,d,p=(d=i,i="object"==typeof d&&"length"in d?d:Array.from(d)).length,y=0,h=new Array(p),g=new Array(p),b=+r.apply(this,arguments),v=Math.min(m,Math.max(-m,o.apply(this,arguments)-b)),O=Math.min(Math.abs(v)/p,a.apply(this,arguments)),x=O*(v<0?-1:1);for(l=0;l<p;++l)(f=g[h[l]=l]=+e(i[l],l,i))>0&&(y+=f);for(null!=t?h.sort((function(e,n){return t(g[e],g[n])})):null!=n&&h.sort((function(e,t){return n(i[e],i[t])})),l=0,u=y?(v-p*x)/y:0;l<p;++l,b=s)c=h[l],s=b+((f=g[c])>0?f*u:0)+x,g[c]={data:i[c],index:l,value:f,startAngle:b,endAngle:s,padAngle:O};return g}return i.value=function(t){return arguments.length?(e="function"==typeof t?t:y(+t),i):e},i.sortValues=function(e){return arguments.length?(t=e,n=null,i):t},i.sort=function(e){return arguments.length?(n=e,t=null,i):n},i.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:y(+e),i):r},i.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:y(+e),i):o},i.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:y(+e),i):a},i}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(e){var t=e.orientation||"top";return"left"===t||"right"===t?function(e){var t=e.pointerWidth,n=e.cornerRadius,r=e.orientation,o=e.width,a=e.height,i=e.center,c="left"===r?1:-1,u=e.x+(e.dx||0),s=e.y+(e.dy||0),f=l(i)&&i.x,d=l(i)&&i.y,p=f-c*(o/2),y=f+c*(o/2),m=d+a/2,h=d-a/2,g=c*(u-p)>0?0:e.pointerLength,b="left"===r?"0 0 0":"0 0 1",v="".concat(n," ").concat(n," ").concat(b);return"M ".concat(p,", ").concat(d-t/2,"\n    L ").concat(g?u:p,", ").concat(g?s:d+t/2,"\n    L ").concat(p,", ").concat(d+t/2,"\n    L ").concat(p,", ").concat(m-n,"\n    A ").concat(v," ").concat(p+c*n,", ").concat(m,"\n    L ").concat(y-c*n,", ").concat(m,"\n    A ").concat(v," ").concat(y,", ").concat(m-n,"\n    L ").concat(y,", ").concat(h+n,"\n    A ").concat(v," ").concat(y-c*n,", ").concat(h,"\n    L ").concat(p+c*n,", ").concat(h,"\n    A ").concat(v," ").concat(p,", ").concat(h+n,"\n    z")}(e):function(e){var t=e.pointerWidth,n=e.cornerRadius,r=e.orientation,o=e.width,a=e.height,i=e.center,c="bottom"===r?1:-1,u=e.x+(e.dx||0),s=e.y+(e.dy||0),f=l(i)&&i.x,d=l(i)&&i.y,p=d+c*(a/2),y=d-c*(a/2),m=f+o/2,h=f-o/2,g=c*(s-p)<0?0:e.pointerLength,b="bottom"===r?"0 0 0":"0 0 1",v="".concat(n," ").concat(n," ").concat(b);return"M ".concat(f-t/2,", ").concat(p,"\n    L ").concat(g?u:f+t/2,", ").concat(g?s:p,"\n    L ").concat(f+t/2,", ").concat(p,"\n    L ").concat(m-n,", ").concat(p,"\n    A ").concat(v," ").concat(m,", ").concat(p-c*n,"\n    L ").concat(m,", ").concat(y+c*n,"\n    A ").concat(v," ").concat(m-n,", ").concat(y,"\n    L ").concat(h+n,", ").concat(y,"\n    A ").concat(v," ").concat(h,", ").concat(y+c*n,"\n    L ").concat(h,", ").concat(p-c*n,"\n    A ").concat(v," ").concat(h+n,", ").concat(p,"\n    z")}(e)},Oe=function(t){t=function(e){var t=v(e.id,e),n=O(e.style,e);return x({},e,{id:t,style:n})}(t);var n=h(t);return e.cloneElement(t.pathComponent,ge(ge(ge({},t.events),n),{},{style:t.style,d:ve(t),className:t.className,shapeRendering:t.shapeRendering,role:t.role,transform:t.transform,clipPath:t.clipPath}))};Oe.propTypes=ge(ge({},g.primitiveProps),{},{center:de.shape({x:de.number,y:de.number}),cornerRadius:de.number,datum:de.object,dx:de.number,dy:de.number,height:de.number,orientation:de.oneOf(["top","bottom","left","right"]),pathComponent:de.element,pointerLength:de.number,pointerWidth:de.number,width:de.number,x:de.number,y:de.number}),Oe.defaultProps={pathComponent:e.createElement(b,null),role:"presentation",shapeRendering:"auto"};const xe=Oe;function we(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te={cornerRadius:5,pointerLength:10,pointerWidth:10},Ce=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(i,e.Component);var n,r,o,a=ke(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).id=void 0===e.id?j("tooltip-"):e.id,t}return n=i,(r=[{key:"getDefaultOrientation",value:function(e){var t=e.datum,n=e.horizontal;if(!e.polar){var r=n?"right":"top",o=n?"left":"bottom";return t&&t.y<0?o:r}return this.getPolarOrientation(e,t)}},{key:"getPolarOrientation",value:function(e,t){var n=k(e,t),r=e.labelPlacement||"vertical";return" vertical"===r?this.getVerticalOrientations(n):"parallel"===r?n<90||n>270?"right":"left":n>180?"bottom":"top"}},{key:"getVerticalOrientations",value:function(e){return e<45||e>315?"right":e>=45&&e<=135?"top":e>135&&e<225?"left":"bottom"}},{key:"getStyles",value:function(e){var t=e.theme||S.grayscale,n=t&&t.tooltip&&t.tooltip.style?t.tooltip.style:{},r=Array.isArray(e.style)?e.style.map((function(e){return T({},e,n)})):T({},e.style,n),o=t&&t.tooltip&&t.tooltip.flyoutStyle?t.tooltip.flyoutStyle:{},a=e.flyoutStyle?T({},e.flyoutStyle,o):o,i=Array.isArray(r)?r.map((function(t){return O(t,e)})):O(r,e);return{style:i,flyoutStyle:O(a,x({},e,{style:i}))}}},{key:"getEvaluatedProps",value:function(e){var t=e.cornerRadius,n=e.centerOffset,r=e.dx,o=e.dy,a=v(e.active,e),i=v(e.text,x({},e,{active:a})),c=this.getStyles(x({},e,{active:a,text:i})),u=c.style,s=c.flyoutStyle,f=v(e.orientation,x({},e,{active:a,text:i,style:u,flyoutStyle:s}))||this.getDefaultOrientation(e),d=v(e.flyoutPadding,x({},e,{active:a,text:i,style:u,flyoutStyle:s,orientation:f}))||this.getLabelPadding(u),p=C({padding:d}),y=v(e.pointerWidth,x({},e,{active:a,text:i,style:u,flyoutStyle:s,orientation:f})),m=v(e.pointerLength,x({},e,{active:a,text:i,style:u,flyoutStyle:s,orientation:f})),h=R(i,u),g=this.getDimensions(x({},e,{style:u,flyoutStyle:s,active:a,text:i,orientation:f,flyoutPadding:p,pointerWidth:y,pointerLength:m}),h),b=g.flyoutHeight,O=g.flyoutWidth,w=x({},e,{active:a,text:i,style:u,flyoutStyle:s,orientation:f,flyoutHeight:b,flyoutWidth:O,flyoutPadding:p,pointerWidth:y,pointerLength:m}),A=l(n)&&void 0!==n.x?v(n.x,w):0,P=l(n)&&void 0!==n.y?v(n.y,w):0;return x({},w,{centerOffset:{x:A,y:P},dx:void 0!==r?v(r,w):0,dy:void 0!==o?v(o,w):0,cornerRadius:v(t,w)})}},{key:"getCalculatedValues",value:function(e){var t=e.style,n=e.text,r=e.flyoutStyle,o={height:e.flyoutHeight,width:e.flyoutWidth};return{style:t,flyoutStyle:r,labelSize:R(n,t),flyoutDimensions:o,flyoutCenter:this.getFlyoutCenter(e,o),transform:this.getTransform(e)}}},{key:"getTransform",value:function(e){var t=e.x,n=e.y,r=(e.style||{}).angle||e.angle||this.getDefaultAngle(e);return r?"rotate(".concat(r," ").concat(t," ").concat(n,")"):void 0}},{key:"getDefaultAngle",value:function(e){var t=e.polar,n=e.labelPlacement,r=e.orientation,o=e.datum;if(!t||!n||"vertical"===n)return 0;var a,i=k(e,o);return 0===i||180===i?a="top"===r&&180===i?270:90:i>0&&i<180?a=90-i:i>180&&i<360&&(a=270-i),a+(i>90&&i<180||i>270?1:-1)*("perpendicular"===n?0:90)}},{key:"constrainTooltip",value:function(e,t,n){var r=e.x,o=e.y,a=n.width,i=n.height,l=[0,t.width],c=[0,t.height],u=[r-a/2,r+a/2],s=[o-i/2,o+i/2],f=[u[0]<l[0]?l[0]-u[0]:0,u[1]>l[1]?u[1]-l[1]:0],d=[s[0]<c[0]?c[0]-s[0]:0,s[1]>c[1]?s[1]-c[1]:0];return{x:Math.round(r+f[0]-f[1]),y:Math.round(o+d[0]-d[1])}}},{key:"getFlyoutCenter",value:function(e,t){var n=e.x,r=e.y,o=e.dx,a=e.dy,i=e.pointerLength,c=e.orientation,u=e.constrainToVisibleArea,s=e.centerOffset,f=t.height,d=t.width,p="left"===c?-1:1,y="bottom"===c?-1:1,m={x:"left"===c||"right"===c?n+p*(i+d/2+p*o):n+o,y:"top"===c||"bottom"===c?r-y*(i+f/2-y*a):r+a},h=l(e.center)&&void 0!==e.center.x?e.center.x:m.x,g=l(e.center)&&void 0!==e.center.y?e.center.y:m.y,b={x:h+s.x,y:g+s.y};return u?this.constrainTooltip(b,e,t):b}},{key:"getLabelPadding",value:function(e){if(!e)return 0;var t=Array.isArray(e)?e.map((function(e){return e.padding})):[e.padding];return Math.max.apply(Math,we(t).concat([0]))}},{key:"getDimensions",value:function(e,t){var n,r,o,a,i=e.orientation,l=e.pointerLength,c=e.pointerWidth,u=e.flyoutHeight,s=e.flyoutWidth,f=e.flyoutPadding,d=v(e.cornerRadius,e);return{flyoutHeight:u?v(u,e):(o=t.height+f.top+f.bottom,a="top"===i||"bottom"===i?2*d:2*d+c,Math.max(a,o)),flyoutWidth:s?v(s,e):(n=t.width+f.left+f.right,r="left"===i||"right"===i?2*d+l:2*d,Math.max(r,n))}}},{key:"getLabelProps",value:function(e,t){var n=t.flyoutCenter,r=t.style,o=t.labelSize,a=t.dy,i=void 0===a?0:a,l=t.dx,c=void 0===l?0:l,u=e.text,s=e.datum,f=e.activePoints,d=e.labelComponent,p=e.index,y=e.flyoutPadding,m=(Array.isArray(r)&&r.length?r[0].textAnchor:r.textAnchor)||"middle";return T({},d.props,{key:"".concat(this.id,"-label-").concat(p),text:u,datum:s,activePoints:f,textAnchor:m,dy:i,dx:c,style:r,x:function(){if(!m||"middle"===m)return n.x;var e="end"===m?-1:1;return n.x-e*(o.width/2)}()+(y.left-y.right)/2,y:n.y+(y.top-y.bottom)/2,verticalAnchor:"middle",angle:r.angle})}},{key:"getPointerOrientation",value:function(e,t,n){var r=t.y+n.height/2,o=t.y-n.height/2,a=t.x-n.width/2,i=t.x+n.width/2,l=[{side:"top",val:o>e.y?o-e.y:-1},{side:"bottom",val:r<e.y?e.y-r:-1},{side:"right",val:i<e.x?e.x-i:-1},{side:"left",val:a>e.x?a-e.x:-1}];return E(l,"val","desc")[0].side}},{key:"getFlyoutProps",value:function(e,t){var n=t.flyoutDimensions,r=t.flyoutStyle,o=t.flyoutCenter,a=e.x,i=e.y,l=e.dx,c=e.dy,u=e.datum,s=e.activePoints,f=e.index,d=e.pointerLength,p=e.pointerWidth,y=e.cornerRadius,m=e.events,h=e.flyoutComponent,g=v(e.pointerOrientation,e);return T({},h.props,{x:a,y:i,dx:l,dy:c,datum:u,activePoints:s,index:f,pointerLength:d,pointerWidth:p,cornerRadius:y,events:m,orientation:g||this.getPointerOrientation({x:a,y:i},o,n),key:"".concat(this.id,"-tooltip-").concat(f),width:n.width,height:n.height,style:r,center:o})}},{key:"renderTooltip",value:function(t){var n=v(t.active,t),r=t.renderInPortal;if(!n)return r?e.createElement(_,null,null):null;var o=this.getEvaluatedProps(t),a=o.flyoutComponent,i=o.labelComponent,l=o.groupComponent,c=this.getCalculatedValues(o),u=[e.cloneElement(a,this.getFlyoutProps(o,c)),e.cloneElement(i,this.getLabelProps(o,c))],s=e.cloneElement(l,{role:"presentation",transform:c.transform},u);return r?e.createElement(_,null,s):s}},{key:"render",value:function(){var e=D(this.props,Te,"tooltip");return this.renderTooltip(e)}}])&&Pe(n.prototype,r),o&&Pe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),i}();function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.displayName="VictoryTooltip",Ce.role="tooltip",Ce.propTypes={activateData:de.bool,active:de.oneOfType([de.bool,de.func]),activePoints:de.array,angle:de.number,center:de.shape({x:w,y:w}),centerOffset:de.shape({x:de.oneOfType([de.number,de.func]),y:de.oneOfType([de.number,de.func])}),constrainToVisibleArea:de.bool,cornerRadius:de.oneOfType([w,de.func]),data:de.array,datum:de.object,dx:de.oneOfType([de.number,de.func]),dy:de.oneOfType([de.number,de.func]),events:de.object,flyoutComponent:de.element,flyoutHeight:de.oneOfType([w,de.func]),flyoutPadding:de.oneOfType([de.func,de.number,de.shape({top:de.number,bottom:de.number,left:de.number,right:de.number})]),flyoutStyle:de.object,flyoutWidth:de.oneOfType([w,de.func]),groupComponent:de.element,height:de.number,horizontal:de.bool,id:de.oneOfType([de.number,de.string]),index:de.oneOfType([de.number,de.string]),labelComponent:de.element,orientation:de.oneOfType([de.oneOf(["top","bottom","left","right"]),de.func]),pointerLength:de.oneOfType([w,de.func]),pointerOrientation:de.oneOfType([de.oneOf(["top","bottom","left","right"]),de.func]),pointerWidth:de.oneOfType([w,de.func]),polar:de.bool,renderInPortal:de.bool,scale:de.shape({x:A,y:A}),style:de.oneOfType([de.object,de.array]),text:de.oneOfType([de.string,de.number,de.func,de.array]),theme:de.object,width:de.number,x:de.number,y:de.number},Ce.defaultProps={active:!1,renderInPortal:!0,labelComponent:e.createElement(P,null),flyoutComponent:e.createElement(xe,null),groupComponent:e.createElement("g",null)},Ce.defaultEvents=function(e){var t=e.activateData?[{target:"labels",mutation:function(){return{active:!0}}},{target:"data",mutation:function(){return{active:!0}}}]:[{target:"labels",mutation:function(){return{active:!0}}}],n=e.activateData?[{target:"labels",mutation:function(){return{active:void 0}}},{target:"data",mutation:function(){return{active:void 0}}}]:[{target:"labels",mutation:function(){return{active:void 0}}}];return[{target:"data",eventHandlers:{onMouseOver:function(){return t},onFocus:function(){return t},onTouchStart:function(){return t},onMouseOut:function(){return n},onBlur:function(){return n},onTouchEnd:function(){return n}}}]};var De=function(e){var t=e.slice,n=e.radius,r=e.innerRadius,o=e.cornerRadius;if(c(e.pathFunction))return e.pathFunction(t);var a=W(e.padAngle),i=W(e.sliceStartAngle),l=W(e.sliceEndAngle);return N().cornerRadius(o).outerRadius(n).innerRadius(r||0)(T({startAngle:i,endAngle:l,padAngle:a},t))},We=function(t){var n=(t=function(e){var t=O(e.style,e),n=v(e.radius,x({},e,{style:t})),r=v(e.innerRadius,x({},e,{style:t,radius:n})),o=v(e.ariaLabel,e),a=v(e.id,e),i=v(e.cornerRadius,e),l=v(e.padAngle,e),c=v(e.sliceStartAngle,e),u=v(e.sliceEndAngle,e),s=v(e.tabIndex,e);return x({},e,{ariaLabel:o,style:t,radius:n,innerRadius:r,id:a,cornerRadius:i,padAngle:l,sliceStartAngle:c,sliceEndAngle:u,tabIndex:s})}(t)).origin?"translate(".concat(t.origin.x,", ").concat(t.origin.y,")"):void 0;return e.cloneElement(t.pathComponent,Ee(Ee({},t.events),{},{"aria-label":t.ariaLabel,d:De(t),style:t.style,transform:t.transform||n,className:t.className,role:t.role,shapeRendering:t.shapeRendering,clipPath:t.clipPath,tabIndex:t.tabIndex}))};We.propTypes=Ee(Ee({},g.primitiveProps),{},{cornerRadius:de.oneOfType([de.number,de.func]),datum:de.object,innerRadius:de.oneOfType([de.number,de.func]),padAngle:de.oneOfType([de.number,de.func]),pathComponent:de.element,pathFunction:de.func,radius:de.oneOfType([de.number,de.func]),slice:de.object,sliceEndAngle:de.oneOfType([de.number,de.func]),sliceStartAngle:de.oneOfType([de.number,de.func])}),We.defaultProps={pathComponent:e.createElement(b,null),role:"presentation",shapeRendering:"auto"};const Ne=We;var Le=function(e){var t=e.colorScale,n=M(e,"pie"),r=I(e.style,n),o=Array.isArray(t)?t:V(t),a=C(e),i=function(e,t){return"number"==typeof e.radius?e.radius:Math.min(e.width-t.left-t.right,e.height-t.top-t.bottom)/2}(e,a),u=function(e,t){var n=e.width,r=e.height,o=l(e.origin)?e.origin:{};return{x:void 0!==o.x?o.x:(t.left-t.right+n)/2,y:void 0!==o.y?o.y:(t.top-t.bottom+r)/2}}(e,a),s=z(e),f=function(e,t){var n=c(e.padAngle)?0:e.padAngle;return me().sort(null).startAngle(W(e.startAngle)).endAngle(W(e.endAngle)).padAngle(W(n)).value((function(e){return e._y}))(t)}(e,s);return x({},e,{style:r,colors:o,padding:a,defaultRadius:i,data:s,slices:f,origin:u})},Me=function(e,t){var n=t.style,r=function(e,t,n){return e&&e.data&&e.data.fill?e.data.fill:t&&t[n%t.length]}(n,t.colors,e);return x({fill:r},n.data)},Ie=function(e,t,n){return function(e){return null==e||c(e)?e:"".concat(e)}(t.label?t.label:Array.isArray(e.labels)?e.labels[n]:c(e.labels)?e.labels:t.xName||t._x)},ze=function(e,t,n){var r=t.index,o=t.datum,a=t.data,i=t.slice,l=t.labelComponent,c=t.theme,u=n.style,s=n.defaultRadius,f=n.origin,d=n.width,p=n.height,y=v(n.labelRadius,x({text:e},t)),m=v(n.labelPosition,x({text:e},t))||"centroid",h=v(n.labelPlacement,x({text:e},t))||"vertical",g=x({padding:0},u.labels),b=function(e,t,n){var r=n&&n.padding||0,o=t||e+r;return N().outerRadius(o).innerRadius(o)}(s,y,O(g,x({labelRadius:y,text:e},t))),w=function(e,t,n){var r={startAngle:"startAngle"===n?t.startAngle:t.endAngle,endAngle:"endAngle"===n?t.endAngle:t.startAngle},o=x({},t,r);return e.centroid(o)}(b,i,m),A=function(e,t,n){var r=0;return((r=void 0!==t.angle?n.angle:L("centroid"===t?(e.startAngle+e.endAngle)/2:"startAngle"===t?e.startAngle:e.endAngle))<0?360-r:r)%360}(i,m,g),P=function(e,t){return"vertical"===t?0:"parallel"===t?e>180&&e<360?e+90:e-90:e>90&&e<270?e-180:e}(A,h),j=function(e,t){return"perpendicular"===t?e>90&&e<270?"bottom":"top":"parallel"===t?e>=0&&e<=180?"right":"left":e<45||e>315?"top":e>=45&&e<135?"right":e>=135&&e<225?"bottom":"left"}(A,h),k=g.textAnchor||function(e){return"top"===e||"bottom"===e?"middle":"right"===e?"start":"end"}(j),S=g.verticalAnchor||function(e){return"left"===e||"right"===e?"middle":"bottom"===e?"start":"end"}(j),C={width:d,height:p,index:r,datum:o,data:a,slice:i,orientation:j,text:e,style:g,x:Math.round(w[0])+f.x,y:Math.round(w[1])+f.y,textAnchor:k,verticalAnchor:S,angle:P};if(!F(l))return C;var R=c&&c.tooltip||{};return T({},C,B(R,["style"]))};function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He={endAngle:360,height:400,innerRadius:0,cornerRadius:0,padAngle:0,padding:30,width:400,startAngle:0,colorScale:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],labelPosition:"centroid"},Ke=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(i,e.Component);var n,r,o,a=Ve(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return n=i,(r=[{key:"shouldAnimate",value:function(){return Boolean(this.props.animate)}},{key:"render",value:function(){var e=i.animationWhitelist,t=i.role,n=D(this.props,He,t);if(this.shouldAnimate())return this.animateComponent(n,e);var r=this.renderData(n),o=n.standalone?this.renderContainer(n.containerComponent,r):r;return q(o,n)}}])&&Fe(n.prototype,r),o&&Fe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),i}();Ke.animationWhitelist=["data","endAngle","height","innerRadius","cornerRadius","padAngle","padding","colorScale","startAngle","style","width"],Ke.displayName="VictoryPie",Ke.role="pie",Ke.defaultTransitions={onExit:{duration:500,before:function(){return{_y:0,label:" "}}},onEnter:{duration:500,before:function(){return{_y:0,label:" "}},after:function(e){return{y_:e._y,label:e.label}}}},Ke.propTypes={animate:de.oneOfType([de.bool,de.object]),colorScale:de.oneOfType([de.arrayOf(de.string),de.oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),containerComponent:de.element,cornerRadius:de.oneOfType([w,de.func]),data:de.array,dataComponent:de.element,disableInlineStyes:de.bool,endAngle:de.number,eventKey:de.oneOfType([de.func,H([U,w]),de.string]),events:de.arrayOf(de.shape({target:de.oneOf(["data","labels","parent"]),eventKey:de.oneOfType([de.array,de.func,H([U,w]),de.string]),eventHandlers:de.object})),externalEventMutations:de.arrayOf(de.shape({callback:de.func,childName:de.oneOfType([de.string,de.array]),eventKey:de.oneOfType([de.array,H([U,w]),de.string]),mutation:de.func,target:de.oneOfType([de.string,de.array])})),groupComponent:de.element,height:w,innerRadius:de.oneOfType([w,de.func]),labelComponent:de.element,labelPlacement:de.oneOfType([de.func,de.oneOf(["parallel","perpendicular","vertical"])]),labelPosition:de.oneOfType([de.func,de.oneOf(["startAngle","centroid","endAngle"])]),labelRadius:de.oneOfType([w,de.func]),labels:de.oneOfType([de.func,de.array]),name:de.string,origin:de.shape({x:w,y:w}),padAngle:de.oneOfType([w,de.func]),padding:de.oneOfType([de.number,de.shape({top:de.number,bottom:de.number,left:de.number,right:de.number})]),radius:de.oneOfType([w,de.func]),sharedEvents:de.shape({events:de.array,getEventState:de.func}),sortKey:de.oneOfType([de.func,H([U,w]),de.string,de.arrayOf(de.string)]),sortOrder:de.oneOf(["ascending","descending"]),standalone:de.bool,startAngle:de.number,style:de.shape({parent:de.object,data:de.object,labels:de.object}),theme:de.object,width:w,x:de.oneOfType([de.func,H([U,w]),de.string,de.arrayOf(de.string)]),y:de.oneOfType([de.func,H([U,w]),de.string,de.arrayOf(de.string)])},Ke.defaultProps={data:[{x:"A",y:1},{x:"B",y:2},{x:"C",y:3},{x:"D",y:1},{x:"E",y:2}],standalone:!0,dataComponent:e.createElement(Ne,null),labelComponent:e.createElement(P,null),containerComponent:e.createElement(K,null),groupComponent:e.createElement("g",null),sortOrder:"ascending",theme:S.grayscale},Ke.getBaseProps=function(e){return function(e,t){e=D(e,t,"pie");var n=Le(e),r=n.slices,o=n.style,a=n.data,i=n.origin,l=n.defaultRadius,c=n.labels,s=n.events,f=n.sharedEvents,d=n.height,p=n.width,y=n.standalone,m=n.name,h=n.innerRadius,g=n.cornerRadius,b=n.padAngle,O=n.disableInlineStyles,w=e.radius||l,A={parent:{standalone:y,height:d,width:p,slices:r,name:m,style:o.parent}};return r.reduce((function(t,r,o){var l=T({},a[o],{startAngle:L(r.startAngle),endAngle:L(r.endAngle),padAngle:L(r.padAngle)}),d=u(l.eventKey)?o:l.eventKey,p={index:o,slice:r,datum:l,data:a,origin:i,innerRadius:h,radius:w,cornerRadius:g,padAngle:b,style:O?{}:Me(o,n),disableInlineStyles:O};t[d]={data:p};var y=Ie(e,l,o);if(null!=y||c&&(s||f)){var m=v(y,p);t[d].labels=ze(m,x({},e,p),n)}return t}),A)}(e,He)},Ke.getData=z,Ke.expectedComponents=["dataComponent","labelComponent","groupComponent","containerComponent"];const qe=$(Ke);function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye={width:450,height:300,padding:50};function Ze(e,t,n){var r=e.xOffset||0;return t[n].map((function(e){var o=function(e,t,n){if(e.y0)return e.y0;var r=e._y,o=e._group,a=n[0].map((function(e){return e.y0})),i=n.slice(0,t).reduce((function(t,n){return t.concat(n.filter((function(t){return e._x instanceof Date?t._x.getTime()===e._x.getTime():t._x===e._x})).map((function(e){return e._y||0})))}),[]),l=i.length&&i.reduce((function(e,t){return r<0&&t<0||r>=0&&t>=0?Number(t)+e:e}),a[o]||0);return i.some((function(e){return e instanceof Date}))?new Date(l):l}(e,n,t)||0;return x({},e,{_y0:e._y instanceof Date?o?new Date(o):e._y:o,_y1:null===e._y?null:e._y instanceof Date?new Date(Number(e._y)+Number(o)):e._y+o,_x1:null===e._x?null:e._x instanceof Date?new Date(Number(e._x)+Number(r)):e._x+r})}))}function et(e,t){var n=ne(e,t).map((function(e){return e.filter((function(e){return null!==e._x&&null!==e._y}))})),r=function(e,t){var n=e.fillInMissingData,r=t.reduce((function(e,t){return t.forEach((function(t){e[t._x instanceof Date?t._x.getTime():t._x]=!0})),e}),{}),o=s(r).map((function(e){return Number(e)})),a=E(o);return t.map((function(e){var t=0,r=e[0]&&e[0]._x instanceof Date;return a.map((function(o,a){o=Number(o);var i=e[a-t];if(i){if((r?i._x.getTime():i._x)===o)return i;t++;var l=n?0:null;return{x:o=r?new Date(o):o,y:l,_x:o,_y:l}}var c=n?0:null;return{x:o=r?new Date(o):o,y:c,_x:o,_y:c}}))}))}(e,n);return r.map((function(t,n){return Ze(e,r,n)}))}function tt(t,n){n=n||e.Children.toArray(t.children);var r="stack";t=D(t,Ye,r);var o=X(t.theme,t.style,r),a=t.categories||G(t,n),i=t.datasets||et(t,n),l=n.map((function(t,n){return e.cloneElement(t,{data:i[n]})})),c={x:Y(x({},t,{categories:a}),"x",l),y:Y(x({},t,{categories:a}),"y",l)},u=t.range||{x:Z(t,"x"),y:Z(t,"y")},s={x:ee(t,"x")||te(t,"x"),y:ee(t,"y")||te(t,"y")},f={x:s.x.domain(c.x).range(t.horizontal?u.y:u.x),y:s.y.domain(c.y).range(t.horizontal?u.x:u.y)},d=t,p=d.colorScale,y=d.horizontal;return{datasets:i,categories:a,range:u,domain:c,horizontal:y,scale:f,style:o,colorScale:p,role:r}}var nt=function(t){var n=t.children,r=e.Children.toArray(n).map((function(e){var t=e;return Xe(Xe({},t),{},{props:B(t.props,["sharedEvents"])})}));return t.children=r,t};function rt(e,t){var n=t.type&&t.type.role,r=t.props.colorScale||e.colorScale;if("group"===n||"stack"===n)return e.theme?r||e.theme.props.colorScale:r}function ot(t,n,r){t=D(t,Ye,"stack"),n=n||e.Children.toArray(t.children);var o=(r=r||tt(t,n)).datasets,a=function(e,t){var n=t.categories,r=t.domain,o=t.range,a=t.scale,i=t.horizontal;return{height:e.height,width:e.width,padding:C(e),standalone:!1,theme:e.theme,categories:n,domain:r,range:o,scale:a,horizontal:i}}(t,r),i=t.name||"stack";return n.map((function(n,l){var c=n.type&&n.type.role,u=o[l],s=Q(n,l,r),f=t.labels?function(e,t,n){if(e.labels)return t.length===n+1?e.labels:void 0}(t,o,l):n.props.labels,d=n.props.name||"".concat(i,"-").concat(c,"-").concat(l);return e.cloneElement(n,x({key:"".concat(d,"-key-").concat(l),labels:f,name:d,domainPadding:n.props.domainPadding||t.domainPadding,theme:t.theme,labelComponent:t.labelComponent||n.props.labelComponent,style:s,colorScale:rt(t,n),data:u,polar:t.polar},a))}))}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct={width:450,height:300,padding:50},ut=function(t){var n=ft.role,r=re(),o=r.setAnimationState,a=r.getAnimationProps,i=(0,r.getProps)(t),l=D(i,ct,n),c=l.eventKey,u=l.containerComponent,s=l.standalone,f=l.groupComponent,d=l.externalEventMutations,p=l.width,y=l.height,m=l.theme,g=l.polar,b=l.horizontal,v=l.name,O=e.Children.toArray(l.children),w=function(t){var n=nt(t),r=Ue(e.useState(n),2),o=r[0],a=r[1];return e.useEffect((function(){J(n,o)||a(n)}),[o,a,n]),e.useMemo((function(){return tt(o,o.children)}),[o])}(l),A=w.domain,P=w.scale,j=w.style,k=e.useMemo((function(){return ot(i,O,w).map((function(t,n){var r=x({animate:a(i,t,n)},t.props);return e.cloneElement(t,r)})).reverse()}),[i,O,w,a]),S=e.useMemo((function(){return s?{domain:A,scale:P,width:p,height:y,standalone:s,theme:m,style:j.parent,horizontal:b,polar:g,name:v}:{}}),[s,A,P,p,y,m,j,b,g,v]),C=e.useMemo((function(){return h(t)}),[t]),R=e.useMemo((function(){if(s){var t=T({},u.props,S,C);return e.cloneElement(u,t)}return e.cloneElement(f,C)}),[f,s,u,S,C]),E=e.useMemo((function(){return oe(i)}),[i]),_=ae(t);return e.useEffect((function(){return function(){t.animate&&o(_,t)}}),[o,_,t]),ie(E)?e.cloneElement(R,R.props,k):e.createElement(le,{container:R,eventKey:c,events:E,externalEventMutations:d},k)};ut.propTypes=it(it({},g.baseProps),{},{bins:de.oneOfType([de.arrayOf(de.oneOfType([w,de.instanceOf(Date)])),w]),categories:de.oneOfType([de.arrayOf(de.string),de.shape({x:de.arrayOf(de.string),y:de.arrayOf(de.string)})]),children:de.oneOfType([de.arrayOf(de.node),de.node]),colorScale:de.oneOfType([de.arrayOf(de.string),de.oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),fillInMissingData:de.bool,horizontal:de.bool,labelComponent:de.element,labels:de.oneOfType([de.func,de.array]),style:de.shape({parent:de.object,data:de.object,labels:de.object}),xOffset:de.number}),ut.defaultProps={containerComponent:e.createElement(K,null),groupComponent:e.createElement("g",null),standalone:!0,theme:S.grayscale,fillInMissingData:!0};var st={role:"stack",expectedComponents:["groupComponent","containerComponent","labelComponent"],getChildren:ot},ft=Object.assign(e.memo(ut,J),st);ft.displayName="VictoryStack";const dt=({worker:e,machines:r,statistics:o})=>{const a=ce(),i={morning:[],evening:[],night:[]};let l=0;const c=o.machineTimeShiftsPerWorker;Object.keys(i).forEach((t=>{r.forEach((n=>{i[t].push({machine:n.name,amountWorked:c?.[e._id]?.[t]?.[n._id]?.length||0})})),i[t].sort(((e,t)=>e.machine.localeCompare(t.machine)))}));for(let t=0;t<i.morning.length;t++){const e=i.morning[t].amountWorked+i.evening[t].amountWorked+i.night[t].amountWorked;l<e&&(l=e)}return t(ue,{width:(a?.width||1200)<720?a.width:(a?.width||1200)-400,height:80*r.length,padding:{top:30,bottom:50,left:80,right:60},domain:l?{y:[0,l]}:{},horizontal:!0,domainPadding:20,children:[n(se,{style:{tickLabels:{fontFamily:"Rubik",fontSize:16}}}),n(se,{style:{tickLabels:{fontFamily:"Rubik",fontSize:16}},dependentAxis:!0,tickFormat:e=>`${e}`}),t(ft,{colorScale:["#edc949","#f28e2c","#af7aa1"],children:[n(fe,{data:i.morning,labels:({datum:e})=>e._y>0?`בוקר: ${e._y}`:"",labelComponent:n(Ce,{pointerLength:0,cornerRadius:0,centerOffset:{y:10},orientation:"bottom",flyoutStyle:{fill:"black",stroke:"black"},style:{fontFamily:"Rubik",fontSize:16,fill:"white",fontWeight:700}}),x:"machine",y:"amountWorked"}),n(fe,{data:i.evening,labels:({datum:e})=>e._y>0?`ערב: ${e._y}`:"",labelComponent:n(Ce,{pointerLength:0,cornerRadius:0,centerOffset:{y:10},orientation:"bottom",flyoutStyle:{fill:"black",stroke:"black"},style:{fontFamily:"Rubik",fontSize:16,fill:"white",fontWeight:700}}),x:"machine",y:"amountWorked"}),n(fe,{data:i.night,labels:({datum:e})=>e._y>0?`לילה: ${e._y}`:"",labelComponent:n(Ce,{pointerLength:0,cornerRadius:0,centerOffset:{y:10},orientation:"bottom",flyoutStyle:{fill:"black",stroke:"black"},style:{fontFamily:"Rubik",fontSize:16,fill:"white",fontWeight:700}}),x:"machine",y:"amountWorked"})]})]})};const pt=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),yt=e=>t("g",{children:[n(P,{...e,text:({datum:e})=>e.amountWorked>0?"time"in e?"morning"===e.time?"בוקר":"evening"===e.time?"ערב":"לילה":e.machine:""}),n(Ce,{...e,style:{labels:{opacity:1},fill:"white",fontWeight:700,fontFamily:"Rubik",fontSize:20},x:200,y:250,orientation:"top",pointerLength:0,cornerRadius:50,flyoutWidth:100,flyoutHeight:100,flyoutStyle:{fill:"black"}})]});yt.defaultEvents=Ce.defaultEvents;const mt=({worker:e,machines:t,statistics:r})=>{const o=[],a=r.amountWorkedInMachinePerWorker?.[e._id];t.forEach((e=>{o.push({machine:e.name,amountWorked:a?.[e._id]?.length||0})}));const i=o.reduce(((e,t)=>e+t.amountWorked),0);return o.forEach((e=>e.amountWorked=Math.round(e.amountWorked/i*100))),n(qe,{style:{labels:{opacity:1,fontWeight:700,fontFamily:"Rubik",userSelect:"none"}},colorScale:pt,innerRadius:100,labelRadius:120,labels:({datum:e})=>e._y>0?`:${e.machine}\n ${e.amountWorked}%`:"",labelComponent:n(yt,{}),data:o,x:"machine",y:"amountWorked"})},ht=({statistics:e,worker:t})=>{const r=[];["morning","evening","night"].forEach((n=>{const o=e.timeShiftsPerWorker?.[t._id]?.[n]?.length||0;r.push({time:n,amountWorked:o})}));const o=r.reduce(((e,t)=>e+t.amountWorked),0);return r.forEach((e=>e.amountWorked=Math.round(e.amountWorked/o*100))),n(qe,{style:{labels:{opacity:1,fontWeight:700,fontFamily:"Rubik",userSelect:"none"}},colorScale:["#edc949","#f28e2c","#af7aa1"],innerRadius:100,labelRadius:120,labels:({datum:e})=>e._y>0?`:${"morning"===e.time?"בוקר":"evening"===e.time?"ערב":"לילה"}\n ${e.amountWorked}%`:"",labelComponent:n(yt,{}),data:r,x:"time",y:"amountWorked"})},gt=({})=>{const e=r(),l=o(),{data:c}=d(e.workerId),{data:u}=i(),{data:s}=f(),[y]=p();return t("section",{className:"worker-dashboard dashboard",children:[c?t("div",{className:"dashboard-header",children:[t("div",{className:"header-details",children:[t("h2",{className:"title",children:[n("span",{className:"material-symbols-outlined back-icon",onClick:()=>l("/workers"),children:""}),c.name]}),t("div",{className:"actions",children:[n("button",{className:"pill-btn",onClick:async()=>{if(!c)return;const{value:e}=await a.fire({title:"מה השם העדכני של העובד?",text:"השינוי ישתקף בכל הסידורים, גם בעתיד וגם בעבר!",input:"text",inputPlaceholder:"הכנס את שם העובד העדכני",confirmButtonColor:"#545454"});e&&(y({workerDetails:{...c,name:e},workerId:c._id}),a.fire({title:"השינוי בוצע בהצלחה!",text:`שם העובד העדכני הוא ${e}`,confirmButtonColor:"#545454",icon:"success"}))},children:"שינוי שם"}),n("button",{className:"pill-btn danger",onClick:async()=>{if(!c)return;const{isConfirmed:e}=await a.fire({title:"אתה בטוח?",text:"העובד לא יופיע בסידורים הבאים וגם לא בנתונים הסטטיסטיים - הסידורים הקודמים בהם הופיע לא יושפעו.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3c82f6",cancelButtonColor:"tomato",confirmButtonText:"אני בטוח",cancelButtonText:"ביטול"});e&&(y({workerDetails:{...c,ownerId:null},workerId:c._id}),a.fire({title:"העובד נותק בהצלחה",confirmButtonColor:"#545454",icon:"success"}),l("/workers"))},children:"ניתוק"})]})]}),t("p",{className:"header-sub-details",children:["העובד/ת כרגע מיועד/ת למשמרת"," ","morning"===c.shiftTime?"בוקר":"evening"===c.shiftTime?"ערב":"לילה","."]})]}):null,c&&s&&u?t("div",{className:"stat",children:[t("div",{className:"main-stat",children:[n("h3",{className:"stat-title",children:"סבבי עבודה בכל מכונה עם חלוקת זמן משמרת"}),n("div",{className:"stat-wrapper",children:n(dt,{machines:u,statistics:s,worker:c})})]}),t("div",{className:"sec-stat",children:[t("div",{className:"worker-time-stat",children:[n("h3",{className:"stat-title",children:"פילוח עבודה לפי זמן משמרת"}),n("div",{className:"stat-graph",children:n(ht,{statistics:s,worker:c})})]}),t("div",{className:"worker-machine-stat",children:[n("h3",{className:"stat-title",children:"פילוח עבודה לפי מכונה"}),n("div",{className:"stat-graph",children:n(mt,{machines:u,statistics:s,worker:c})})]})]})]}):null]})};export{gt as WorkerDashboard,gt as default};
