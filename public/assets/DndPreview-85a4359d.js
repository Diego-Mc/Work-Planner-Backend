import{r as e,j as t}from"./index-f9649d7c.js";import{u as n,a as r}from"./useDragDropManager-4b4561c8.js";var i=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),s=(e,t)=>{let n=e.getClientOffset();if(null===n)return null;if(!t.current||!t.current.getBoundingClientRect)return i(n,(e=>{let t=e.getInitialClientOffset(),n=e.getInitialSourceClientOffset();return null===t||null===n?{x:0,y:0}:i(t,n)})(e));let r=t.current.getBoundingClientRect(),s={x:r.width/2,y:r.height/2};return i(n,s)},l=e=>{let t=`translate(${e.x.toFixed(1)}px, ${e.y.toFixed(1)}px)`;return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:t,WebkitTransform:t}},o=()=>{let t=e.useRef(null),i=function(t){const i=n().getMonitor(),[s,l]=r(i,t);return e.useEffect((()=>i.subscribeToOffsetChange(l))),e.useEffect((()=>i.subscribeToStateChange(l))),s}((e=>({currentOffset:s(e,t),isDragging:e.isDragging(),itemType:e.getItemType(),item:e.getItem(),monitor:e})));return i.isDragging&&null!==i.currentOffset?{display:!0,itemType:i.itemType,item:i.item,style:l(i.currentOffset),monitor:i.monitor,ref:t}:{display:!1}};e.createContext(void 0);const u=({})=>{const e=o();if(!e.display)return null;const{itemType:n,item:r,style:i}=e;return t("div",{className:"worker-item",style:{...i,transition:"all 0.01s",zIndex:100},children:r.name})};export{u as DndPreview,u as default};
